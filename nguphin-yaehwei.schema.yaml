# Rime schema
# encoding: utf-8

__include: nguphing.schema:/

schema:
  schema_id: nguphin-yaehwei
  name: 吳語拼音·吳協式
  version: "20240220"
  author:
    - 山前 <i@estela.moe>
  description: |
    * 標準吳語
    * 使用吳語協會拼法

speller:
  algebra:
    - erase/^xx$/
    - erase/^0$/
    - "xform/'//"
    # c 系後 i 簡寫
    - derive/^(c|ch|j|sh|zh)i([aeou])/$1$2/
    # sin心 星ing 弗分
    - derive/ing(\d)$/in$1/
    - derive/in(\d)$/ing$1/
    - derive/ik$/ih/
    - derive/ih$/ik/
    - derive/eng/en/
    # ie淹 iae煙 弗分
    - derive/([iy])ae(\d)$/$1e$2/
    - derive/([iy])e(\d)$/$1ae$2/
    # ok樂 uk六 弗分
    - derive/ok$/uk/
    - derive/uk$/ok/
    # ngi-ni 弗分
    - derive/^ngi/ni/
    # dz-z j-zh 弗分
    - derive/^dz/z/
    - derive/^j/zh/
    - derive/^z/dz/
    - derive/^zh/j/
    # ci-cy 弗分
    - derive/^(c|ch|j|sh|zh)i(\d)$/$1y$2/
    - derive/^(c|ch|j|sh|zh)y(\d)$/$1i$2/
    # l m n 清音簡化
    - derive/^([lmn])h/$1/
    # 吳語協會式
    - xform/\d//
    - xform/ts/tsh/
    - xform/tz/ts/
    # oe ae 入聲寫法
    - xform/oh/oeh/
    - xform/ah/aeh/
    # ng/k 系寫法
    - xform/uk/oh/
    - xform/ung/on/
    - xform/ok/aoh/
    - xform/ong/aon/
    - xform/eh/eeh/
    - xform/ieeh/ieh/
    - xform/ek/eh/
    - xform/eng/en/
    - xform/ik/ieoh/
    - xform/ing/ieon/
    - xform/ak/ah/
    - xform/ang/an/
    - xform/(y|i)u(n|h)/$1ui$2/
    - abbrev/^([a-z]).+$/$1/
    - abbrev/^([ptkgszc]h).+$/$1/
    - abbrev/^(ts|tsh|dz|ng).+$/$1/

translator:
  prism: nguphin-yaehwei
  comment_format: &cf # 吳語協會式
    - xform/\d//
    - xform/ts/tsh/
    - xform/tz/ts/
    # oe ae 入聲寫法
    - xform/oh/oeh/
    - xform/ah/aeh/
    # ng/k 系寫法
    - xform/uk/oh/
    - xform/ung/on/
    - xform/ok/aoh/
    - xform/ong/aon/
    - xform/eh/eeh/
    - xform/ieeh/ieh/
    - xform/ek/eh/
    - xform/eng/en/
    - xform/ik/ieoh/
    - xform/ing/ieon/
    - xform/ak/ah/
    - xform/ang/an/
    - xform/(y|i)u(n|h)/$1ui$2/

reverse_lookup:
  comment_format: *cf
